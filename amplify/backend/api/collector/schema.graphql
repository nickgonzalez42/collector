type CollectionCard @model @auth(rules: [{allow: public}, {allow: owner}]) {
  id: ID!
  collectionID: ID! @index(name: "byCollection")
  cardID: String
  quantity: Int
}

type Collection @model @auth(rules: [{allow: public}, {allow: owner}]) {
  id: ID!
  CollectionCards: [CollectionCard] @hasMany(indexName: "byCollection", fields: ["id"])
}

enum Attributes {
  SLASH
  STRIKE
  SPECIAL
  WISDOM
  RANGED
}

enum Color {
  RED
  BLACK
  GREEN
  BLUE
  YELLOW
}

enum Type {
  LEADER
  CHARACTER
  EVENT
  STAGE
  DON
}

type Card @model @auth(rules: [{allow: public}]) {
  id: ID!
  name: String!
  color: [Color!]
  text: String
  cost: Int
  number: String!
  alternate: Boolean!
  setID: ID! @index(name: "bySet")
  set: Set @belongsTo(fields: ["setID"])
  image: String
  type: Type
  attribute: Attributes
  power: Int
  life: Int
  counter: Boolean
  trigger: Boolean
}

type Set @model @auth(rules: [{allow: public}]) {
  id: ID!
  name: String
  cards: [Card] @hasMany(indexName: "bySet", fields: ["id"])
}
 